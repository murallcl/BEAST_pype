# Example Parameters for running the BDSKY-Serial-Comparative.ipynb workflow.

# Running an Instance of this Workflow
overall_save_dir: SBATCH-Test-BDSKY-Serial-Comparative_no-initial-tree # Path to where you are saving all the runs of this workflow.

# General Inputs
template_xml_path: template_beast_xmls/BDSKY_serial_COVID-19_template.xml #    Path to template BEAST 2 xml. #Path to template BEAST 2 xml.
fasta_path: example_data/COVID-19_JN.1/VirusSeq_JN1_alignment.fasta # Path to fasta file containing sequences to be placed into template xml.
metadata_path: example_data/COVID-19_JN.1/VirusSeq_JN1_metadata.csv # Path to csv or tsv containing metadata for sequences in fasta_path.
sample_id_field: 'specimen collector sample ID' #    Name of field in metadata_db containing sequence IDs.
collection_date_field: 'sample collection date' #Name of field in metadata_db containing collection dates of sequences. Should be formatted YYYY-MM-DD.

# Defining XML Sets (Partitioning Data)
xml_set_definitions: # The definitions for the xml_sets you wish to use.
  #{Keys=The name used for the xml_set.: Values: Will be used with pandas DataFrame.query to separate out your data}
  JN.1: "`lineage name` == 'JN.1'"
  JN.1.1: "`lineage name` == 'JN.1.1'"
#  JN.1.2: "`lineage name` == 'JN.1.2'"
#  JN.1.4: "`lineage name` == 'JN.1.4'"

# Initial Tree Building & Downsampling
use_initial_tree: False

# BDSky Options
rt_dims: 3 #    Number of Rt dimensions (time periods over which Rt is estimated).
zero_sampling_before_first_sample: True # Fix the sampling proportion to 0 for the period before the first xml_set.


#MCMC Tree/Logfile names Chain-lengths & Save Steps
log_file_basename: BDSKY_Serial # If provided .tree, .log and .state files from running BEAST 2 will have this name prefixed by 'run-with-seed-{seed}-', number being that of the chain.
chain_length: 50000 # Number of chains to use for BEAST runs.
screen_log_every: 5000 #    How often to output to screen during BEAST runs.
store_state_every: 1000 #    How often to store MCMC state during BEAST runs.
trace_log_every: 1000 #    How often to save a log file during BEAST runs.
tree_log_every: 1000 #    How often to save a tree file during BEAST runs.

#Running BEAST 2
number_of_beast_runs: 3 #Number of chains to use (repeated runs to do) when running BEAST.

sbatch_options_needing_a_value:
  '--cpus-per-task': 1             # Number of CPU cores per task
  '--time': 0-01:00:00 # Maximum runtime (D-HH:MM:SS)
  '--mem': 16G      # RAM to use.
  #'--partition':  If needed uncomment and fill in the name of a partition to use. 